---
import BaseLayout from '@/layouts/BaseLayout.astro'
import ArticleCard from '@/components/ui/ArticleCard.astro'
import { getCollection } from 'astro:content'

const allArticles = await getCollection('articles', ({ data }) => !data.draft)
const articles = allArticles.sort((a, b) => b.data.publishedAt.localeCompare(a.data.publishedAt))
---

<BaseLayout title="Articles">
  <div class="mx-auto max-w-4xl px-6 py-12">
    <header class="mb-8">
      <h1 class="serif italic text-ink anim" style="font-size: 28px;">Articles</h1>
      <p class="text-ink-3 text-sm mt-2 anim d1">Research articles and technical writing.</p>
    </header>
    <div class="flex flex-col gap-3 anim d2">
      <ArticleCard
        title="CorrSteer: Steering LLMs via Correlation-based Corrections"
        description="An interactive exploration of correlation-guided feature selection for controllable language model behavior using Sparse Autoencoders."
        publishedAt="2025-08"
        tags={['Steering', 'Interpretability', 'SAE', 'Alignment']}
        readingTime="25 min"
        slug="corrsteer"
      />
      {articles.map(article => (
          <ArticleCard
            title={article.data.title}
            description={article.data.description}
            publishedAt={article.data.publishedAt}
            tags={article.data.tags}
            readingTime={article.data.readingTime}
            slug={article.id}
            externalUrl={article.data.externalUrl}
          />
      ))}
    </div>
  </div>
</BaseLayout>
