---
interface Props {
  title: string;
  subtitle: string;
  url: string;
  image: string;
  tags?: string[];
}

const { title, subtitle, url, image, tags = [] } = Astro.props;
---

<a
  href={url}
  target="_blank"
  rel="noopener noreferrer"
  class="flat-card group flex items-start gap-5 rounded-xl p-5 transition-all duration-200"
>
  <img
    src={image}
    alt={title}
    class="h-14 w-14 flex-shrink-0 rounded-full object-cover"
    loading="lazy"
  />
  <div class="flex min-w-0 flex-col gap-1">
    <h3 class="serif text-lg leading-tight text-ink group-hover:text-rust transition-colors">{title}</h3>
    <span class="mono text-ink-3 text-[11px]">{subtitle}</span>
    {
      tags.length > 0 && (
        <div class="flex flex-wrap gap-1.5 mt-1">
          {tags.map((tag) => (
            <span class="rounded-full px-2.5 py-0.5 text-[10px] text-ink-3 font-medium">
              {tag}
            </span>
          ))}
        </div>
      )
    }
  </div>
</a>

<style>
  .flat-card {
    background: var(--color-paper-warm);
    box-shadow:
      3px 3px 6px rgba(0, 0, 0, 0.04),
      -3px -3px 6px rgba(255, 255, 255, 0.5);
  }

  .flat-card:hover {
    box-shadow:
      4px 4px 8px rgba(0, 0, 0, 0.07),
      -4px -4px 8px rgba(255, 255, 255, 0.6);
    transform: translateY(-1px);
  }

  .flat-card:active {
    box-shadow:
      inset 2px 2px 4px rgba(0, 0, 0, 0.06),
      inset -2px -2px 4px rgba(255, 255, 255, 0.4);
    transform: translateY(0);
  }

  [data-theme='dark'] .flat-card {
    background: var(--color-paper-warm-dark);
    box-shadow:
      3px 3px 6px rgba(0, 0, 0, 0.25),
      -3px -3px 6px rgba(255, 255, 255, 0.02);
  }

  [data-theme='dark'] .flat-card:hover {
    box-shadow:
      4px 4px 8px rgba(0, 0, 0, 0.35),
      -4px -4px 8px rgba(255, 255, 255, 0.03);
  }

  [data-theme='dark'] .flat-card:active {
    box-shadow:
      inset 2px 2px 4px rgba(0, 0, 0, 0.35),
      inset -2px -2px 4px rgba(255, 255, 255, 0.01);
  }
</style>
